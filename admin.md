# ğŸŒ¸ Petal Diary åå°ç®¡ç†è®¾ç½®æŒ‡å—

## ğŸ“‹ æ¦‚è¿°

Petal Diary ä½¿ç”¨ Decap CMSï¼ˆåŸ Netlify CMSï¼‰ä½œä¸ºåå°ç®¡ç†ç³»ç»Ÿï¼Œè®©ä½ å¯ä»¥é€šè¿‡ GitHub è´¦å·è½»æ¾ç®¡ç†ç½‘ç«™å†…å®¹ã€‚

## ğŸ”§ é…ç½®æ­¥éª¤

### 1. GitHub ä»“åº“å‡†å¤‡

#### 1.1 åˆ›å»º GitHub ä»“åº“
1. ç™»å½• [GitHub](https://github.com)
2. åˆ›å»ºæ–°çš„å…¬å¼€ä»“åº“ï¼š`petal-diary`
3. å°†å½“å‰é¡¹ç›®æ¨é€åˆ°ä½ çš„ä»“åº“

```bash
# åˆå§‹åŒ– Gitï¼ˆå¦‚æœè¿˜æ²¡æœ‰ï¼‰
git init

# æ·»åŠ è¿œç¨‹ä»“åº“
git remote add origin https://github.com/YOUR_USERNAME/petal-diary.git

# æäº¤å¹¶æ¨é€
git add .
git commit -m "Initial commit: Petal Diary setup"
git push -u origin main
```

#### 1.2 é…ç½® GitHub Pages
1. è¿›å…¥ä»“åº“è®¾ç½®é¡µé¢
2. æ‰¾åˆ° "Pages" é€‰é¡¹
3. Source é€‰æ‹© "Deploy from a branch"
4. Branch é€‰æ‹© "main" å’Œ "/ (root)"
5. ä¿å­˜åç­‰å¾…å‡ åˆ†é’Ÿï¼ŒGitHub Pages ä¼šè‡ªåŠ¨éƒ¨ç½²

### 2. GitHub OAuth App é…ç½®

#### 2.1 åˆ›å»º GitHub OAuth App
1. è®¿é—® [GitHub Developer Settings](https://github.com/settings/applications/new)
2. å¡«å†™åº”ç”¨ä¿¡æ¯ï¼š
   - **Application name**: Petal Diary Admin
   - **Homepage URL**: `https://YOUR_DOMAIN`ï¼ˆä½ çš„ç½‘ç«™åŸŸåï¼‰
   - **Authorization callback URL**: `https://YOUR_DOMAIN/admin/`

#### 2.2 è®°å½•é‡è¦ä¿¡æ¯
åˆ›å»ºåè®°å½•ä»¥ä¸‹ä¿¡æ¯ï¼š
- **Client ID**: ä¼šè‡ªåŠ¨ç”Ÿæˆ
- **Client Secret**: ç‚¹å‡» "Generate a new client secret" ç”Ÿæˆ

### 3. Netlify éƒ¨ç½²ï¼ˆæ¨èï¼‰

#### 3.1 è¿æ¥ Netlify
1. è®¿é—® [Netlify](https://netlify.com) å¹¶æ³¨å†Œè´¦å·
2. ç‚¹å‡» "New site from Git"
3. é€‰æ‹© GitHub å¹¶æˆæƒ
4. é€‰æ‹©ä½ çš„ `petal-diary` ä»“åº“
5. é…ç½®æ„å»ºè®¾ç½®ï¼š
   - **Build command**: `npm run build`
   - **Publish directory**: `_site`
6. ç‚¹å‡» "Deploy site"

#### 3.2 è®¾ç½®ç¯å¢ƒå˜é‡
åœ¨ Netlify çš„ Site settings â†’ Environment variables ä¸­æ·»åŠ ï¼š
- **GITHUB_CLIENT_ID**: ä½ çš„ GitHub OAuth App Client ID
- **GITHUB_CLIENT_SECRET**: ä½ çš„ GitHub OAuth App Client Secret

### 4. æœ¬åœ°å¼€å‘è®¾ç½®

#### 4.1 æ›´æ–°é…ç½®æ–‡ä»¶
ç¼–è¾‘ `admin/config.yml`ï¼Œæ›´æ–°ä»¥ä¸‹ä¿¡æ¯ï¼š
```yaml
backend:
  name: github
  repo: YOUR_USERNAME/petal-diary  # ä½ çš„ GitHub ç”¨æˆ·å/ä»“åº“å
  branch: main
  base_url: https://api.netlify.com
  site_domain: YOUR_DOMAIN  # ä½ çš„å®é™…åŸŸå
```

#### 4.2 æ›´æ–° admin/index.html
åŒæ ·éœ€è¦æ›´æ–° `admin/index.html` ä¸­çš„é…ç½®ï¼š
```javascript
backend: {
  name: 'github',
  repo: 'YOUR_USERNAME/petal-diary', // ä½ çš„ GitHub ç”¨æˆ·å/ä»“åº“å
  branch: 'main',
  base_url: 'https://api.netlify.com',
  site_domain: 'YOUR_DOMAIN', // ä½ çš„å®é™…åŸŸå
},
```

## ğŸš€ è®¿é—®åå°

### æ–¹æ³•ä¸€ï¼šé€šè¿‡éƒ¨ç½²åçš„ç½‘ç«™
1. è®¿é—®ä½ çš„ç½‘ç«™åŸŸå
2. åœ¨åœ°å€æ è¾“å…¥ï¼š`https://YOUR_DOMAIN/admin/`
3. ä½¿ç”¨ GitHub è´¦å·ç™»å½•

### æ–¹æ³•äºŒï¼šæœ¬åœ°å¼€å‘
1. å¯åŠ¨æœ¬åœ°æœåŠ¡å™¨ï¼š`npm run start`
2. è®¿é—®ï¼š`http://localhost:8080/admin/`
3. ä½¿ç”¨ GitHub è´¦å·ç™»å½•

## ğŸ“ åå°åŠŸèƒ½ä»‹ç»

### å¯ç®¡ç†çš„å†…å®¹ç±»å‹

#### ğŸ° ç”œèœœé£Ÿè°±
- åˆ›å»ºæ–°çš„é£Ÿè°±æ–‡ç« 
- ä¸Šä¼ å°é¢å›¾ç‰‡
- è®¾ç½®åˆ†ç±»ï¼ˆçƒ˜ç„™ã€ç”œå“ã€é¥®å“ã€å®¶å¸¸èœç­‰ï¼‰
- æ·»åŠ é£Ÿææ¸…å•å’Œåˆ¶ä½œæ­¥éª¤
- ç®¡ç†æ ‡ç­¾å’Œå‘å¸ƒæ—¶é—´

#### âœˆï¸ æ¼«æ¸¸åœ°å›¾
- åˆ›å»ºæ—…è¡Œæ¸¸è®°
- ä¸Šä¼ æ—…è¡Œç…§ç‰‡
- è®¾ç½®åœ°ç‚¹å’Œæ—…è¡Œæ—¶é—´
- æ·»åŠ æ—…è¡Œç±»å‹å’Œæ¨èç†ç”±
- ç®¡ç†ç…§ç‰‡é›†

#### ğŸ“ çµæ„Ÿç¬”è®°
- åˆ›å»ºå„ç±»ç¬”è®°ï¼ˆå­¦ä¹ ç¬”è®°ã€è¯»ä¹¦ç¬”è®°ç­‰ï¼‰
- æ·»åŠ é‡è¦æ‘˜å½•å’Œç›¸å…³é“¾æ¥
- ç®¡ç†ä¸ªäººæ„Ÿæ‚Ÿå’Œæ ‡ç­¾

#### ğŸŒ± æˆ‘çš„å°èŠ±åœƒ
- ç¼–è¾‘ä¸ªäººç®€ä»‹
- æ›´æ–°å¤´åƒå’Œä¸ªäººä¿¡æ¯
- ç®¡ç†å…´è¶£çˆ±å¥½å’Œç¤¾äº¤é“¾æ¥

## ğŸ” å®‰å…¨è®¾ç½®

### GitHub æƒé™
- ç¡®ä¿ä½ çš„ä»“åº“æ˜¯å…¬å¼€çš„
- åå°ç™»å½•éœ€è¦ GitHub è´¦å·æˆæƒ
- åªæœ‰ä½ æœ‰æƒé™ç®¡ç†ä»“åº“å†…å®¹

### å†…å®¹å‘å¸ƒæµç¨‹
1. **Draftï¼ˆè‰ç¨¿ï¼‰**: åœ¨åå°åˆ›å»ºçš„å†…å®¹
2. **Edit Reviewï¼ˆç¼–è¾‘å®¡æ ¸ï¼‰**: æäº¤å®¡æ ¸
3. **Readyï¼ˆå°±ç»ªï¼‰**: å‡†å¤‡å‘å¸ƒ
4. **Publishedï¼ˆå·²å‘å¸ƒï¼‰**: è‡ªåŠ¨éƒ¨ç½²åˆ°ç½‘ç«™

## ğŸ› ï¸ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

#### 1. æ— æ³•ç™»å½•åå°
- æ£€æŸ¥ GitHub OAuth App é…ç½®æ˜¯å¦æ­£ç¡®
- ç¡®è®¤ callback URL è®¾ç½®æ­£ç¡®
- æ£€æŸ¥ç¯å¢ƒå˜é‡æ˜¯å¦è®¾ç½®

#### 2. å›¾ç‰‡ä¸Šä¼ å¤±è´¥
- æ£€æŸ¥ `media_folder` è·¯å¾„æ˜¯å¦æ­£ç¡®
- ç¡®ä¿ä»“åº“æœ‰å†™å…¥æƒé™
- æ£€æŸ¥ç½‘ç»œè¿æ¥

#### 3. å†…å®¹å‘å¸ƒåä¸æ˜¾ç¤º
- æ£€æŸ¥ GitHub Pages æ˜¯å¦é‡æ–°æ„å»º
- ç¡®è®¤ Netlify éƒ¨ç½²çŠ¶æ€
- æ£€æŸ¥æ–‡ç« æ ¼å¼æ˜¯å¦æ­£ç¡®

### è°ƒè¯•æŠ€å·§
1. æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·
2. æŸ¥çœ‹ Console å’Œ Network æ ‡ç­¾
3. æ£€æŸ¥ API è¯·æ±‚æ˜¯å¦æˆåŠŸ
4. éªŒè¯é…ç½®æ–‡ä»¶è¯­æ³•

## ğŸ“ è·å–å¸®åŠ©

å¦‚æœé‡åˆ°é—®é¢˜ï¼Œå¯ä»¥ï¼š
1. æŸ¥çœ‹ [Decap CMS å®˜æ–¹æ–‡æ¡£](https://decapcms.org/docs/)
2. æ£€æŸ¥ GitHub Issues
3. æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯ä¿¡æ¯

---

**ğŸ’¡ æç¤º**: ç¬¬ä¸€æ¬¡è®¾ç½®å¯èƒ½éœ€è¦ä¸€äº›æ—¶é—´ï¼Œè¯·è€å¿ƒæŒ‰ç…§æ­¥éª¤æ“ä½œã€‚é…ç½®å®Œæˆåï¼Œä½ å°±å¯ä»¥è½»æ¾é€šè¿‡åå°ç®¡ç†ç½‘ç«™çš„æ‰€æœ‰å†…å®¹äº†ï¼